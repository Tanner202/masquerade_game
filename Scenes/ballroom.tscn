[gd_scene format=3 uid="uid://t4gk72hf44n7"]

[ext_resource type="Texture2D" uid="uid://bgmjno0hksfvn" path="res://ballroom.png" id="1_e67my"]
[ext_resource type="PackedScene" uid="uid://drqhwa4g01bar" path="res://Scenes/npc.tscn" id="2_m7wml"]
[ext_resource type="SpriteFrames" uid="uid://bo0ranvre73vt" path="res://Art/jester.tres" id="3_e67my"]
[ext_resource type="Texture2D" uid="uid://cq8m1rtlj58g3" path="res://Jester.png" id="4_m7wml"]
[ext_resource type="PackedScene" uid="uid://doh7rsbfeuigd" path="res://player.tscn" id="5_v5q2q"]
[ext_resource type="PackedScene" uid="uid://by8d7kcofyw65" path="res://UI/UI.tscn" id="6_3wjai"]
[ext_resource type="Texture2D" uid="uid://t1pns0jgjllt" path="res://Tux-1.png.png" id="6_aqwhr"]
[ext_resource type="SpriteFrames" uid="uid://c3ychx1mc6p0n" path="res://Art/pastry_chef.tres" id="6_e0dq6"]
[ext_resource type="Script" uid="uid://co5qrwa7jymom" path="res://door.gd" id="7_pa8e7"]
[ext_resource type="FontFile" uid="uid://ddqis61kyd6jj" path="res://Tiny5-Regular.ttf" id="9_13ll2"]
[ext_resource type="Script" uid="uid://cev2h4qyjq0tx" path="res://audio_manager.gd" id="10_trbkl"]
[ext_resource type="PackedScene" uid="uid://cjb7oprk64uo3" path="res://Scenes/door.tscn" id="14_v5q2q"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1ainy"]
vertices = PackedVector2Array(42.703125, 195.96875, 44.171875, 173.10938, 89.65625, 186.4375, 315.59375, 181.89063, 310.85156, 123.14844, 434.85156, 124.86719, 435.64844, 133.71875, 408, 166.32813, 408, 211.97656, 88.13281, 337, 266.60156, 199.03125, 541.5078, 269.64844, 595.02344, 274.2578, 597.6172, 296.39063, 578.7422, 323.47656, 532.47656, 337.9922, 482.89844, 276.03906, 112.9375, 195.96094, 43.507813, 326.70313, 35.203125, 286.04688, 533.1172, 261.2578, 428.25, 233.42188, 15, 218.72656, 15, 265.85156)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5, 6, 7), PackedInt32Array(3, 7, 8, 9, 10), PackedInt32Array(11, 12, 13, 14, 15, 9, 16), PackedInt32Array(2, 17, 9, 18, 19, 0), PackedInt32Array(16, 20, 11), PackedInt32Array(21, 16, 9), PackedInt32Array(8, 21, 9), PackedInt32Array(17, 10, 9), PackedInt32Array(22, 0, 19, 23)])
outlines = Array[PackedVector2Array]([PackedVector2Array(62, 211, 67, 295, 59, 321, 74, 335, 87, 347, 534, 348, 585, 332, 608, 299, 604, 265, 546, 260, 536, 250, 485, 265, 435, 226, 418, 208, 418, 170, 446, 137, 444, 115, 300, 113, 305, 175, 265, 189, 115, 186, 93, 177, 72, 171, 69, 185)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0f350"]
size = Vector2(71, 151)

[node name="Ballroom" type="Node2D" unique_id=2083961112]

[node name="TextureRect" type="TextureRect" parent="." unique_id=1965102321]
offset_right = 640.0
offset_bottom = 360.0
texture = ExtResource("1_e67my")
expand_mode = 2

[node name="Jester" parent="." unique_id=795824750 instance=ExtResource("2_m7wml")]
position = Vector2(164, 219)
scale = Vector2(2, 2)
sprite_frames = ExtResource("3_e67my")
portrait_texture = ExtResource("4_m7wml")
dialogue_filepath = "res://jester.json"

[node name="Butler" parent="." unique_id=598578227 instance=ExtResource("2_m7wml")]
position = Vector2(357, 116)
scale = Vector2(2, 2)
sprite_frames = ExtResource("6_e0dq6")
portrait_texture = ExtResource("6_aqwhr")
dialogue_filepath = "res://butler.json"

[node name="Player" parent="." unique_id=1297024523 instance=ExtResource("5_v5q2q")]
position = Vector2(452, 250)
scale = Vector2(2, 2)

[node name="UI" parent="." unique_id=318653403 instance=ExtResource("6_3wjai")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=2010469749]
position = Vector2(8, -10)
navigation_polygon = SubResource("NavigationPolygon_1ainy")

[node name="Door" type="Node2D" parent="." unique_id=1602045270]
visible = false
position = Vector2(0, 188)
script = ExtResource("7_pa8e7")

[node name="Area2D" type="Area2D" parent="Door" unique_id=540448099]
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Door/Area2D" unique_id=897292821]
position = Vector2(26, 1)
shape = SubResource("RectangleShape2D_0f350")

[node name="CanvasLayer" type="CanvasLayer" parent="Door" unique_id=624979715]

[node name="InteractionPrompt" type="Label" parent="Door/CanvasLayer" unique_id=301826588]
visible = false
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -40.0
offset_bottom = 23.0
grow_horizontal = 0
theme_override_fonts/font = ExtResource("9_13ll2")
text = "Space to interact "

[node name="LevelCollisions" type="Node2D" parent="." unique_id=671549185]
visible = false
position = Vector2(323, 146)

[node name="LevelCollision" type="StaticBody2D" parent="LevelCollisions" unique_id=381278146]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LevelCollisions/LevelCollision" unique_id=2095876180]
polygon = PackedVector2Array(-318, 40, -295, 37, -288, 16, -282, -11, -272, -23, -260, -23, -256, -12, -257, 4, -250, 11, -237, 13, -223, 9, -213, 20, -198, 26, -76, 25, -58, 16, -47, 21, -29, 17, -20, 7, -23, -6, -28, -14, -28, -48, 141, -49, 143, -16, 129, -13, 129, 4, 111, 12, 109, 46, 107, 57, 104, 66, 149, 104, 162, 106, 216, 91, 217, 80, 231, 80, 235, 92, 244, 101, 260, 102, 308, 103, 322, 102, 322, -157, -335, -155, -331, 37)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="LevelCollisions/LevelCollision" unique_id=710325857]
polygon = PackedVector2Array(-305, 125, -299, 131, -295, 142, -295, 183, -283, 193, -266, 200, -210, 203, 244, 204, 286, 194, 291, 185, 309, 172, 323, 174, 328, 222, -335, 225, -330, 127)

[node name="AudioManager" type="Node" parent="." unique_id=1563148427]
script = ExtResource("10_trbkl")

[node name="RightDoor" parent="." unique_id=1393553521 instance=ExtResource("14_v5q2q")]
position = Vector2(600, 266)
room_path = "res://Scenes/level.tscn"
target_door = "LeftDoor"

[node name="LeftDoor" parent="." unique_id=60187689 instance=ExtResource("14_v5q2q")]
position = Vector2(31, 215)
room_path = "res://Scenes/balcony.tscn"

[connection signal="body_entered" from="Door/Area2D" to="Door" method="_on_area_2d_body_entered"]
[connection signal="body_exited" from="Door/Area2D" to="Door" method="_on_area_2d_body_exited"]
