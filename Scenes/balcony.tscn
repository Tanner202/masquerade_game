[gd_scene format=3 uid="uid://bqppegts7sii7"]

[ext_resource type="Texture2D" uid="uid://clduam6dc60cy" path="res://balcony.png" id="1_f23nc"]
[ext_resource type="PackedScene" uid="uid://drqhwa4g01bar" path="res://Scenes/npc.tscn" id="2_lsqcx"]
[ext_resource type="Texture2D" uid="uid://d2xj5eteq60jl" path="res://Butterfly Lady-1.png.png" id="3_f23nc"]
[ext_resource type="Texture2D" uid="uid://c2sxs75q7c30t" path="res://butterfly lady front.png" id="4_3qoj6"]
[ext_resource type="PackedScene" uid="uid://doh7rsbfeuigd" path="res://player.tscn" id="8_3hmnf"]
[ext_resource type="PackedScene" uid="uid://by8d7kcofyw65" path="res://UI/UI.tscn" id="9_vdorb"]
[ext_resource type="PackedScene" uid="uid://cjb7oprk64uo3" path="res://Scenes/door.tscn" id="10_70stg"]
[ext_resource type="Script" uid="uid://cev2h4qyjq0tx" path="res://audio_manager.gd" id="11_n1a7r"]
[ext_resource type="Script" uid="uid://bvbf7r63p0qxg" path="res://transition_manager.gd" id="12_mgcxg"]

[sub_resource type="SpriteFrames" id="SpriteFrames_ttdso"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_f23nc")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1ainy"]
vertices = PackedVector2Array(488.40625, 182.99219, 527.1406, 181, 597.4219, 183.60938, 591.1797, 290.52344, 570.21875, 319.8828, 531.1328, 326.9922, 451.75, 221.17969, 153.61719, 226.38281, 162.36719, 171.88281, 175.39063, 173.17969, 183.32813, 220.78125, 59.070313, 324.85938, 31.453125, 311.04688, 19.140625, 295.67188, 21.609375, 236.29688, 90.75, 323, 230.25781, 228, 400.60156, 227, 462.57813, 183.77344)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5, 6), PackedInt32Array(7, 8, 9, 10), PackedInt32Array(11, 12, 13, 14, 7, 15), PackedInt32Array(5, 15, 7, 10, 16), PackedInt32Array(5, 16, 17), PackedInt32Array(5, 17, 6), PackedInt32Array(6, 18, 0)])
outlines = Array[PackedVector2Array]([PackedVector2Array(5, 214, 9, 299, 25, 319, 57, 335, 91, 333, 532, 337, 576, 329, 601, 294, 608, 174, 527, 171, 488, 173, 455, 174, 444, 212, 400, 217, 231, 218, 192, 212, 184, 164, 154, 161, 145, 217)])

[node name="Level2" type="Node2D" unique_id=2083961112]

[node name="TextureRect" type="TextureRect" parent="." unique_id=1965102321]
offset_right = 640.0
offset_bottom = 360.0
texture = ExtResource("1_f23nc")
expand_mode = 2

[node name="ButterflyWoman" parent="." unique_id=795824750 instance=ExtResource("2_lsqcx")]
position = Vector2(308, 112)
scale = Vector2(2, 2)
npcID = "BW"
movement_speed = 0.0
sprite_frames = SubResource("SpriteFrames_ttdso")
portrait_texture = ExtResource("4_3qoj6")
dialogue_filepath = "res://butterfly_woman.json"

[node name="Player" parent="." unique_id=1297024523 instance=ExtResource("8_3hmnf")]
position = Vector2(468, 207)
scale = Vector2(2, 2)

[node name="UI" parent="." unique_id=318653403 instance=ExtResource("9_vdorb")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=2010469749]
visible = false
position = Vector2(8, -10)
navigation_polygon = SubResource("NavigationPolygon_1ainy")

[node name="RightDoor" parent="." unique_id=1393553521 instance=ExtResource("10_70stg")]
position = Vector2(606, 202)
room_path = "res://Scenes/ballroom.tscn"
target_door = "LeftDoor"

[node name="LevelCollisions" type="Node2D" parent="." unique_id=671549185]
position = Vector2(323, 146)

[node name="LevelCollision" type="StaticBody2D" parent="LevelCollisions" unique_id=381278146]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LevelCollisions/LevelCollision" unique_id=2143421849]
polygon = PackedVector2Array(280, 140, 74, 140, 5, 138, -44, 114, -78, 74, -82, 53, -71, 20, -45, -22, -2, -43, 39, -47, 95, -45, 107, -27, 129, -15, 155, -11, 282, -13, 323, -28, 330, -170, -380, -179, -380, 218, 374, 236, 364, 145)

[node name="AudioManager" type="Node" parent="." unique_id=1563148427]
script = ExtResource("11_n1a7r")

[node name="TransitionManager" type="Node" parent="." unique_id=625707479]
script = ExtResource("12_mgcxg")
