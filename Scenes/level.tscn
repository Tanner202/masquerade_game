[gd_scene format=3 uid="uid://tst0l5wsa0cu"]

[ext_resource type="Texture2D" uid="uid://drc1c4ms67egk" path="res://final-fireplace-room.png" id="1_oqgf2"]
[ext_resource type="PackedScene" uid="uid://drqhwa4g01bar" path="res://Scenes/npc.tscn" id="1_u52ul"]
[ext_resource type="PackedScene" uid="uid://doh7rsbfeuigd" path="res://player.tscn" id="2_vonw3"]
[ext_resource type="PackedScene" uid="uid://by8d7kcofyw65" path="res://UI/UI.tscn" id="3_oi3di"]
[ext_resource type="SpriteFrames" uid="uid://df1vrjnyegbs3" path="res://Art/player.tres" id="5_ha31o"]
[ext_resource type="Texture2D" uid="uid://cga1xe4w4iaic" path="res://Peacock_Lady_1.png" id="5_pa6b8"]
[ext_resource type="Texture2D" uid="uid://giwyyne7wj4l" path="res://Placeholder.png" id="6_pa6b8"]
[ext_resource type="PackedScene" path="res://Scenes/door.tscn" id="7_bvt00"]
[ext_resource type="Script" uid="uid://cev2h4qyjq0tx" path="res://audio_manager.gd" id="10_oqgf2"]
[ext_resource type="Script" path="res://transition_manager.gd" id="11_qxfql"]

[sub_resource type="SpriteFrames" id="SpriteFrames_crh0w"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_pa6b8")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_1ainy"]
vertices = PackedVector2Array(90.75, 323, 69.703125, 324.22656, 70.828125, 319.22656, 91.84375, 305.8672, 526.1172, 326.9375, 118, 249.50781, 154.22656, 222.60156, 183.32813, 220.78125, 230.25781, 228, 162.36719, 171.88281, 175.39063, 173.17969, 400.60156, 227, 538.0469, 305.3203, 451.75, 221.17969, 538.9922, 262.1328, 535.1875, 198.59375, 462.57813, 183.77344, 488.40625, 182.99219, 522.1875, 181.25781)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 0, 3, 5, 6, 7, 8), PackedInt32Array(6, 9, 10, 7), PackedInt32Array(4, 8, 11), PackedInt32Array(12, 4, 11, 13, 14), PackedInt32Array(15, 14, 13, 16, 17), PackedInt32Array(15, 17, 18)])
outlines = Array[PackedVector2Array]([PackedVector2Array(110, 243, 84, 299, 62, 313, 57, 335, 91, 333, 532, 337, 548, 308, 549, 262, 545, 195, 527, 171, 488, 173, 455, 174, 444, 212, 400, 217, 231, 218, 192, 212, 184, 164, 154, 161, 145, 217)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bvt00"]
size = Vector2(248, 188)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_bvt00"]

[node name="Level" type="Node2D" unique_id=2083961112]

[node name="TextureRect" type="TextureRect" parent="." unique_id=1965102321]
offset_right = 640.0
offset_bottom = 360.0
texture = ExtResource("1_oqgf2")
expand_mode = 2

[node name="PeacockWoman" parent="." unique_id=598578227 instance=ExtResource("1_u52ul")]
position = Vector2(260, 181)
scale = Vector2(2, 2)
movement_speed = 0.0
sprite_frames = SubResource("SpriteFrames_crh0w")
portrait_texture = ExtResource("5_pa6b8")
dialogue_filepath = "res://peacock_woman.json"

[node name="PastryChef" parent="." unique_id=74179338 instance=ExtResource("1_u52ul")]
position = Vector2(464, 208)
scale = Vector2(2, 2)
sprite_frames = ExtResource("5_ha31o")
required_flag = "bw_killed"
portrait_texture = ExtResource("6_pa6b8")
dialogue_filepath = "res://pastry_chef.json"

[node name="Player" parent="." unique_id=1297024523 instance=ExtResource("2_vonw3")]
position = Vector2(352, 244)
scale = Vector2(2, 2)

[node name="UI" parent="." unique_id=318653403 instance=ExtResource("3_oi3di")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="." unique_id=2010469749]
position = Vector2(8, -10)
navigation_polygon = SubResource("NavigationPolygon_1ainy")

[node name="LeftDoor" parent="." unique_id=1393553521 instance=ExtResource("7_bvt00")]
position = Vector2(34, 188)
room_path = "res://Scenes/ballroom.tscn"

[node name="RightDoor" parent="." unique_id=1602997328 instance=ExtResource("7_bvt00")]
position = Vector2(612, 226)
room_path = "res://Scenes/balcony.tscn"
target_door = "LeftDoor"

[node name="LevelCollisions" type="Node2D" parent="." unique_id=671549185]
visible = false
position = Vector2(323, 146)

[node name="LevelCollision" type="StaticBody2D" parent="LevelCollisions" unique_id=381278146]

[node name="CollisionShape2D" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=885735785]
position = Vector2(10, -52)
shape = SubResource("RectangleShape2D_bvt00")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=1433925568]
position = Vector2(-243, -99)
shape = SubResource("RectangleShape2D_bvt00")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=1887871144]
position = Vector2(228, -105)
shape = SubResource("RectangleShape2D_bvt00")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=954212633]
position = Vector2(-11, -146)
rotation = 3.1415927
shape = SubResource("WorldBoundaryShape2D_bvt00")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=1942068199]
position = Vector2(-324, 57)
rotation = 1.5707964
shape = SubResource("WorldBoundaryShape2D_bvt00")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=709982570]
position = Vector2(316, 57)
rotation = -1.5707964
shape = SubResource("WorldBoundaryShape2D_bvt00")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="LevelCollisions/LevelCollision" unique_id=1224276941]
position = Vector2(-11, 214)
shape = SubResource("WorldBoundaryShape2D_bvt00")

[node name="AudioManager" type="Node" parent="." unique_id=1563148427]
script = ExtResource("10_oqgf2")

[node name="TransitionManager" type="Node" parent="." unique_id=625707479]
script = ExtResource("11_qxfql")
